<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sifood Titip Beli, Ojek & Kurir</title>
    <style>
        /* CSS untuk Tampilan dan Desain (Tidak ada perubahan) */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

        :root {
            --primary-color: #ff7043;
            --secondary-color: #3498db;
            --accent-color: #2ecc71;
            --light-gray: #ecf0f1;
            --dark-gray: #95a5a6;
            --bg-color: #ffffff;
            --text-color: #34495e;
            --error-color: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-gray);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 15px;
        }

        .container {
            width: 100%;
            max-width: 480px;
            background-color: var(--bg-color);
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px;
            text-align: center;
        }

        header h1 {
            font-size: 1.5em;
            font-weight: 600;
        }

        main {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 18px;
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #bdc3c7;
            border-radius: 8px;
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .service-btn {
            padding: 12px 5px;
            border-radius: 8px;
            border: 2px solid var(--light-gray);
            background-color: var(--light-gray);
            font-weight: 600;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--primary-color);
        }

        .service-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .choice-options {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }

        .choice-options label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        #payment-section {
            padding: 15px;
            border: 1px dashed var(--dark-gray);
            border-radius: 8px;
            margin-top: 15px;
        }

        .total-display {
            background-color: var(--light-gray);
            color: #ff7043;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            margin-top: 20px;
        }

        .total-display p {
            font-size: 1.1em;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .total-display h2 {
            font-size: 2em;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background-color: #ff7043;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .submit-btn:hover {
            background-color: #128C7E;
        }

        .hidden {
            display: none !important;
        }

        #history-section {
            padding: 20px;
            background-color: #f9f9f9;
        }

        #history-section h3 {
            text-align: center;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        #history-list {
            list-style: none;
            padding: 0;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .history-item {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .history-item p {
            font-size: 0.85em;
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .history-item p strong {
            color: var(--primary-color);
        }

        .history-item .reorder-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8em;
            margin-top: 10px;
            float: right;
        }
        .history-item .reorder-btn:hover {
            opacity: 0.9;
        }
        
        #clear-history-btn {
            display: block;
            margin: 15px auto 0;
            background: var(--error-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 0.9em;
            cursor: pointer;
        }
        
        /* -- [DIUBAH] CSS UNTUK NOTIFIKASI TERBANG (TOAST) -- */
        .toast-notification {
            position: fixed;
            top: 25vh; /* Posisi di sepertiga atas layar */
            left: 50%;
            /* Pastikan ditengah sempurna */
            transform: translate(-50%, -50%); 
            padding: 14px 22px;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            text-align: center;
            /* Animasi baru */
            animation: fade-in-down 0.5s ease-out forwards, 
                         fade-out-up 0.5s ease-in 2.5s forwards;
        }

        .toast-notification.error {
            background-color: var(--error-color);
        }

        .toast-notification.success {
            background-color: var(--accent-color);
        }

        @keyframes fade-in-down {
            from {
                opacity: 0;
                transform: translate(-50%, -100%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        @keyframes fade-out-up {
            from {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
            to {
                opacity: 0;
                transform: translate(-50%, -100%);
            }
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Titip Beli Ojek & Kurir</h1>
        </header>

        <main id="order-form">
            <div class="form-group">
                <label>Pilih Layanan</label>
                <div class="service-grid">
                    <button class="service-btn" data-service="Titip Beli">üõíTitip Beli</button>
                    <button class="service-btn" data-service="Kirim Barang">üì¶ Kirim Barang</button>
                    <button class="service-btn" data-service="Ojek">üõµ Ojek</button>
                </div>
            </div>

            <div class="form-group">
                <select id="pickup-location" class="form-control" required>
                    <option value="">-- üìçPilih Lokasi Jemput --</option>
                    <option value="0">Kilometer-0</option>
                    <option value="1">Kilometer-1</option>
                    <option value="2">Kilometer-2</option>
                    <option value="3">Kilometer-3</option>
                    <option value="4">Kilometer-4</option>
                    <option value="5">Kilometer-5</option>
                    <option value="6">Kilometer-6</option>
                    <option value="7">Kilometer-7</option>
                    <option value="9">Kilometer-9</option>
                    <option value="10">Kilometer-10</option>
                    <option value="6">(Other) SP2 Desa Sido Makmur</option>
                    <option value="4">(Other) Mapaddegat Bawah</option>
                    <option value="10">(Other) SP3 Bukit Pamewa</option>
                    <option value="20">(Other) Desa Goisooinan</option>
                    <option value="35">(Other) Desa Pogari</option>
                    <option value="42">(Other) Bandara Rokot</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text" id="pickup-detail" class="form-control" placeholder="(Wajib di isi), Cth: Pelabuhan Kapal Mentawai fast" required>
            </div>

            <div class="form-group">
                <select id="dropoff-location" class="form-control" required>
                     <option value="">-- üìçPilih Lokasi Antar --</option>
                    <option value="0">Kilometer-0</option>
                    <option value="1">Kilometer-1</option>
                    <option value="2">Kilometer-2</option>
                    <option value="3">Kilometer-3</option>
                    <option value="4">Kilometer-4</option>
                    <option value="5">Kilometer-5</option>
                    <option value="6">Kilometer-6</option>
                    <option value="7">Kilometer-7</option>
                    <option value="9">Kilometer-9</option>
                    <option value="10">Kilometer-10</option>
                    <option value="6">(Other) SP2 Desa Sido Makmur</option>
                    <option value="4">(Other) Mapaddegat Bawah</option>
                    <option value="10">(Other) SP3 Bukit Pamewa</option>
                    <option value="20">(Other) Desa Goisooinan</option>
                    <option value="35">(Other) Desa Pogari</option>
                    <option value="42">(Other) Bandara Rokot</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text" id="dropoff-detail" class="form-control" placeholder="(wajib di isi) Cth: gang beringin no 5" required>
            </div>

            <div class="form-group">
                <label>Kapan diantar?</label>
                <div class="choice-options">
                    <label>
                        <input type="radio" name="schedule-type" value="sekarang" checked> Sekarang
                    </label>
                    <label>
                        <input type="radio" name="schedule-type" value="nanti"> Nanti
                    </label>
                </div>
            </div>
            <div id="schedule-section" class="form-group hidden">
                <label for="schedule-datetime">Pilih Tanggal & Jam Pengantaran</label>
                <input type="datetime-local" id="schedule-datetime" class="form-control">
            </div>
            
            <div id="payment-section" class="hidden">
                <div class="form-group">
                    <label>Status Pembayaran Belanja</label>
                    <div class="choice-options">
                        <label>
                            <input type="radio" name="payment-status" value="Sudah dibayar" required> Sudah dibayar
                        </label>
                        <label>
                            <input type="radio" name="payment-status" value="Belum dibayar"> Belum dibayar
                        </label>
                    </div>
                </div>
                <div id="shopping-cost-section" class="form-group hidden">
                    <label for="shopping-cost">Perkiraan Harga Belanja</label>
                    <input type="number" id="shopping-cost" class="form-control" placeholder="Masukkan nominal, cth: 50000">
                </div>
            </div>

            <div class="total-display">
                <p>Total Biaya</p>
                <h2 id="total-cost">Rp 0</h2>
            </div>

            <button id="submit-order" class="submit-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                <span>Kirim Orderan ke WhatsApp Admin</span>
            </button>
        </main>
        
        <section id="history-section">
            <h3>Riwayat Pesanan</h3>
            <ul id="history-list">
                </ul>
             <button id="clear-history-btn" class="hidden">Hapus Riwayat</button>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // -- Elemen Form -- //
            const pickupLocationEl = document.getElementById('pickup-location');
            const pickupDetailEl = document.getElementById('pickup-detail');
            const dropoffLocationEl = document.getElementById('dropoff-location');
            const dropoffDetailEl = document.getElementById('dropoff-detail');
            const scheduleTypeRadios = document.querySelectorAll('input[name="schedule-type"]');
            const scheduleSection = document.getElementById('schedule-section');
            const scheduleDateTimeEl = document.getElementById('schedule-datetime');
            const serviceBtns = document.querySelectorAll('.service-btn');
            const paymentSection = document.getElementById('payment-section');
            const paymentStatusRadios = document.querySelectorAll('input[name="payment-status"]');
            const shoppingCostSection = document.getElementById('shopping-cost-section');
            const shoppingCostEl = document.getElementById('shopping-cost');
            const totalCostEl = document.getElementById('total-cost');
            const submitBtn = document.getElementById('submit-order');
            const historyListEl = document.getElementById('history-list');
            const clearHistoryBtn = document.getElementById('clear-history-btn');

            let selectedService = '';
            const ADMIN_PHONE_NUMBER = '6285266610522';

            const state = {
                pickupLocation: null, pickupDetail: '',
                dropoffLocation: null, dropoffDetail: '',
                service: '', paymentStatus: '', shoppingCost: 0,
                timestamp: '', scheduleInfo: ''
            };
            
            // ---- FUNGSI UNTUK MENAMPILKAN NOTIFIKASI TERBANG (TOAST) ---- //
            function showToast(message, type = 'error') {
                const existingToast = document.querySelector('.toast-notification');
                if (existingToast) {
                    existingToast.remove();
                }

                const toast = document.createElement('div');
                toast.textContent = message;
                toast.className = `toast-notification ${type}`;
                document.body.appendChild(toast);

                setTimeout(() => {
                    toast.remove();
                }, 3000); // Durasi notifikasi 3 detik
            }

            // ---- FUNGSI PERHITUNGAN & FORMAT ---- //
            function calculateFare() {
                const pickupKm = parseFloat(pickupLocationEl.value);
                const dropoffKm = parseFloat(dropoffLocationEl.value);
                const pickupIsOther = pickupLocationEl.options[pickupLocationEl.selectedIndex]?.text.includes('(Other)');
                const dropoffIsOther = dropoffLocationEl.options[dropoffLocationEl.selectedIndex]?.text.includes('(Other)');

                if (isNaN(pickupKm) || isNaN(dropoffKm) || !selectedService) return 0;

                const distance = Math.abs(pickupKm - dropoffKm);
                let baseFare = 0, costPerKm = 1500, baseDistance = 2;

                switch (selectedService) {
                    case 'Titip Beli': baseFare = 6000; break;
                    case 'Kirim Barang': baseFare = 5000; break;
                    case 'Ojek': baseFare = 7000; break;
                }

                let deliveryFee = (distance <= baseDistance) ? baseFare : baseFare + (distance - baseDistance) * costPerKm;
                if (pickupIsOther || dropoffIsOther) deliveryFee += 3000;
                return deliveryFee;
            }

            function updateTotal() {
                const deliveryFee = calculateFare();
                let shoppingCost = 0;
                if (selectedService === 'Titip Beli' && document.querySelector('input[name="payment-status"]:checked')?.value === 'Belum dibayar') {
                    shoppingCost = parseFloat(shoppingCostEl.value) || 0;
                }
                const total = deliveryFee + shoppingCost;
                state.shoppingCost = shoppingCost;
                totalCostEl.textContent = formatCurrency(total);
            }

            function formatCurrency(amount) {
                return new Intl.NumberFormat('id-ID', {
                    style: 'currency', currency: 'IDR', minimumFractionDigits: 0
                }).format(amount);
            }
            
            // ---- PENGELOLA UI & STATE ---- //
            function handleServiceSelection(e) {
                serviceBtns.forEach(btn => btn.classList.remove('active'));
                const clickedBtn = e.target;
                clickedBtn.classList.add('active');
                selectedService = clickedBtn.dataset.service;
                state.service = selectedService;

                paymentSection.classList.add('hidden');
                shoppingCostSection.classList.add('hidden');
                paymentStatusRadios.forEach(radio => radio.checked = false);
                shoppingCostEl.value = '';

                if (selectedService === 'Titip Beli') {
                    paymentSection.classList.remove('hidden');
                }
                updateTotal();
            }

            function handlePaymentStatusChange() {
                const selectedPaymentStatus = document.querySelector('input[name="payment-status"]:checked').value;
                state.paymentStatus = selectedPaymentStatus;
                shoppingCostSection.classList.toggle('hidden', selectedPaymentStatus !== 'Belum dibayar');
                if (selectedPaymentStatus === 'Sudah dibayar') shoppingCostEl.value = '';
                updateTotal();
            }

            function handleScheduleChange() {
                const scheduleType = document.querySelector('input[name="schedule-type"]:checked').value;
                if (scheduleType === 'nanti') {
                    scheduleSection.classList.remove('hidden');
                    const now = new Date();
                    now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
                    scheduleDateTimeEl.min = now.toISOString().slice(0, 16);
                } else {
                    scheduleSection.classList.add('hidden');
                }
            }

            // ---- PENGELOLA RIWAYAT ---- //
            function loadHistory() {
                const history = JSON.parse(localStorage.getItem('sifoodOrderHistory')) || [];
                historyListEl.innerHTML = '';
                clearHistoryBtn.classList.toggle('hidden', history.length === 0);

                history.forEach(order => {
                    const li = document.createElement('li');
                    li.classList.add('history-item');
                    li.dataset.orderId = order.id;

                    let shoppingInfo = '';
                    if (order.service === 'Titip Beli') {
                       shoppingInfo = `<p><strong>Pembayaran:</strong> ${order.paymentStatus}</p>`;
                       if (order.shoppingCost > 0) {
                           shoppingInfo += `<p><strong>Harga Barang:</strong> ${formatCurrency(order.shoppingCost)}</p>`;
                       }
                    }
                    
                    const timestampInfo = order.timestamp ? `<p><strong>Dipesan pada:</strong> ${order.timestamp}</p>` : '';
                    const scheduleInfo = order.scheduleInfo ? `<p><strong>Jadwal Antar:</strong> ${order.scheduleInfo}</p>` : '';

                    li.innerHTML = `
                        ${timestampInfo}
                        ${scheduleInfo}
                        <p><strong>Layanan:</strong> ${order.service}</p>
                        <p><strong>Jemput:</strong> ${order.pickupLocation.text} (${order.pickupDetail})</p>
                        <p><strong>Antar:</strong> ${order.dropoffLocation.text} (${order.dropoffDetail})</p>
                        ${shoppingInfo}
                        <button class="reorder-btn">Order Ulang</button>
                    `;
                    historyListEl.appendChild(li);
                });
            }
            
            function saveOrderToHistory(orderData) {
                let history = JSON.parse(localStorage.getItem('sifoodOrderHistory')) || [];
                const newOrder = { ...orderData, id: new Date().getTime() };
                history.unshift(newOrder); 
                if (history.length > 10) history.pop();
                localStorage.setItem('sifoodOrderHistory', JSON.stringify(history));
                loadHistory();
            }
            
            function handleHistoryClick(e) {
                if (e.target.classList.contains('reorder-btn')) {
                    const orderId = e.target.closest('.history-item').dataset.orderId;
                    const history = JSON.parse(localStorage.getItem('sifoodOrderHistory')) || [];
                    const orderToReorder = history.find(order => order.id == orderId);
                    
                    if (orderToReorder) {
                        pickupLocationEl.value = orderToReorder.pickupLocation.value;
                        pickupDetailEl.value = orderToReorder.pickupDetail;
                        dropoffLocationEl.value = orderToReorder.dropoffLocation.value;
                        dropoffDetailEl.value = orderToReorder.dropoffDetail;
                        
                        document.querySelector('input[name="schedule-type"][value="sekarang"]').checked = true;
                        scheduleSection.classList.add('hidden');
                        scheduleDateTimeEl.value = '';

                        serviceBtns.forEach(btn => btn.classList.toggle('active', btn.dataset.service === orderToReorder.service));
                        selectedService = orderToReorder.service;
                        state.service = selectedService;

                        paymentSection.classList.add('hidden');
                        if (orderToReorder.service === 'Titip Beli') {
                            paymentSection.classList.remove('hidden');
                            paymentStatusRadios.forEach(radio => radio.checked = (radio.value === orderToReorder.paymentStatus));
                            shoppingCostSection.classList.toggle('hidden', orderToReorder.paymentStatus !== 'Belum dibayar');
                            shoppingCostEl.value = (orderToReorder.paymentStatus === 'Belum dibayar') ? orderToReorder.shoppingCost : '';
                        }
                        
                        updateTotal();
                        window.scrollTo(0, 0); 
                        showToast('Data pesanan telah dimuat ulang. Jadwal direset ke "Sekarang".', 'success');
                    }
                }
            }

            function clearHistory() {
                if (confirm('Anda yakin ingin menghapus semua riwayat pesanan?')) {
                    localStorage.removeItem('sifoodOrderHistory');
                    loadHistory();
                }
            }

            // ---- PENGIRIMAN ORDER (DENGAN VALIDASI TOAST) ---- //
            function submitOrder() {
                // -- Validasi & Pengumpulan Data -- //
                if (!selectedService) { showToast('Pilih jenis layanan terlebih dahulu!'); return; }
                if (!pickupLocationEl.value) { showToast('Pilih lokasi jemput!'); return; }
                if (!pickupDetailEl.value.trim()) { showToast('Isi detail lokasi jemput!'); return; }
                if (!dropoffLocationEl.value) { showToast('Pilih lokasi antar!'); return; }
                if (!dropoffDetailEl.value.trim()) { showToast('Isi detail lokasi antar!'); return; }
                
                const scheduleType = document.querySelector('input[name="schedule-type"]:checked').value;
                if (scheduleType === 'nanti' && !scheduleDateTimeEl.value) {
                    showToast('Pilih tanggal dan jam pengantaran!'); return;
                }

                // -- Kumpulkan semua data ke state -- //
                const orderTimestamp = new Date().toLocaleString('id-ID', { dateStyle: 'long', timeStyle: 'short' }).replace(/\./g, ':');
                state.timestamp = orderTimestamp;
                
                if (scheduleType === 'nanti') {
                    const scheduledDate = new Date(scheduleDateTimeEl.value);
                    state.scheduleInfo = scheduledDate.toLocaleString('id-ID', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit' }).replace(/\./g, ':');
                } else {
                    state.scheduleInfo = 'Sekarang';
                }

                state.pickupLocation = { value: pickupLocationEl.value, text: pickupLocationEl.options[pickupLocationEl.selectedIndex].text };
                state.pickupDetail = pickupDetailEl.value.trim();
                state.dropoffLocation = { value: dropoffLocationEl.value, text: dropoffLocationEl.options[dropoffLocationEl.selectedIndex].text };
                state.dropoffDetail = dropoffDetailEl.value.trim();
                
                // -- Format Pesan WhatsApp -- //
                let message = `*Order Baru - Sifood*\n`;
                message += `*Waktu Order: ${orderTimestamp}*\n`;
                message += `*Jadwal Antar: ${state.scheduleInfo}*\n\n`;
                message += `*LAYANAN: ${selectedService}*\n\n`;
                message += `*JEMPUT DARI:*\n`;
                message += `üìç Lokasi: ${state.pickupLocation.text}\nüìù Detail: ${state.pickupDetail}\n\n`;
                message += `*ANTAR KE:*\n`;
                message += `üìç Lokasi: ${state.dropoffLocation.text}\nüìù Detail: ${state.dropoffDetail}\n\n`;

                const deliveryFee = calculateFare();
                if (selectedService === 'Titip Beli') {
                    const paymentStatus = document.querySelector('input[name="payment-status"]:checked');
                    if (!paymentStatus) { showToast('Pilih status pembayaran untuk Titip Beli!'); return; }
                    
                    state.paymentStatus = paymentStatus.value;
                    message += `*STATUS BAYAR: ${state.paymentStatus}*\n`;

                    if (state.paymentStatus === 'Belum dibayar') {
                        const shoppingCost = parseFloat(shoppingCostEl.value) || 0;
                        if (shoppingCost <= 0) { showToast('Isi perkiraan harga belanja!'); return; }
                        state.shoppingCost = shoppingCost;
                        message += `*PERKIRAAN BELANJA: ${formatCurrency(state.shoppingCost)}*\n`;
                    } else {
                        state.shoppingCost = 0;
                    }
                }
                
                const totalCost = deliveryFee + state.shoppingCost;
                message += `-------------------------------------\n`;
                message += `*ONGKIR: ${formatCurrency(deliveryFee)}*\n`;
                message += `*TOTAL BIAYA: ${formatCurrency(totalCost)}*\n\n`;
                message += `Terima Kasih telah menggunakan layanan *www.sifood.online* Orderanmu Akan segera kami Proses. mohon hapenya Stanby yah!`;

                saveOrderToHistory(state);
                const whatsappUrl = `https://wa.me/${ADMIN_PHONE_NUMBER}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }

            // ---- EVENT LISTENERS ---- //
            pickupLocationEl.addEventListener('change', updateTotal);
            dropoffLocationEl.addEventListener('change', updateTotal);
            shoppingCostEl.addEventListener('input', updateTotal);
            serviceBtns.forEach(btn => btn.addEventListener('click', handleServiceSelection));
            paymentStatusRadios.forEach(radio => radio.addEventListener('change', handlePaymentStatusChange));
            scheduleTypeRadios.forEach(radio => radio.addEventListener('change', handleScheduleChange));
            submitBtn.addEventListener('click', submitOrder);
            historyListEl.addEventListener('click', handleHistoryClick);
            clearHistoryBtn.addEventListener('click', clearHistory);

            // ---- INISIALISASI ---- //
            loadHistory();
        });
    </script>
</body>
</html>
